<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç: –†–æ–ª—å –≤ –∫–æ–º–∞–Ω–¥–µ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f3f4f5;
            color: #222;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .option {
            padding: 12px 16px;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option:hover {
            background: #f5f5f5;
        }
        .progress-container {
            margin: 20px 0;
            background: #e0e0e0;
            border-radius: 8px;
            height: 8px;
        }
        .progress-bar {
            height: 100%;
            background: #007aff;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container" id="quiz-container">
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="question" id="question"></div>
        <div class="options" id="options"></div>
    </div>

    <div class="container" id="result-container" style="display: none;">
        <h2 id="result-title"></h2>
        <div id="result-description"></div>
        <button id="restart-btn">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –≤ –±–æ—Ç–∞
        Telegram.WebApp.enableClosingConfirmation();
        Telegram.WebApp.onEvent('backButtonClicked', function() {
            Telegram.WebApp.close();
        });

        // –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞
        const QUESTIONS = [
            {
                question: "1. –í–∞—à –ø–æ–¥—Ö–æ–¥ –∫ –Ω–æ–≤—ã–º –∏–¥–µ—è–º?",
                options: [
                    "A. –í–∏–∂—É –ø—Ä–æ—Ä—ã–≤! –ù–∞–¥–æ —Å—Ä–æ—á–Ω–æ –æ–±—Å—É–¥–∏—Ç—å!",
                    "B. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –Ω–æ –≥–¥–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏?",
                    "C. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É—é –∏ —Ä–∞–∑–±–µ—Ä—É –ø–æ —à–∞–≥–∞–º",
                    "D. –û—á–µ—Ä–µ–¥–Ω–∞—è '—Ä–µ–≤–æ–ª—é—Ü–∏—è'? –ü–æ–∫–∞–∂–∏—Ç–µ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å"
                ],
                keys: ["A", "B", "C", "D"]
            },
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–¥–æ–±–∞–≤—å—Ç–µ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏)
        ];

        const PERSONALITY_TYPES = {
            "A": "üöÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π",
            "B": "üõ°Ô∏è –ö—Ä–∏—Ç–∏–∫",
            "C": "‚öôÔ∏è –†–µ–∞–ª–∏–∑–∞—Ç–æ—Ä",
            "D": "üí∞ –°–∫–µ–ø—Ç–∏–∫"
        };

        const PERSONALITY_DESCRIPTIONS = {
            "A": "–í—ã ‚Äî –≤–∏–∑–∏–æ–Ω–µ—Ä. –ë–µ–∑ '–∫—Ä–∏—Ç–∏–∫–∞' –∏ '—Ä–µ–∞–ª–∏–∑–∞—Ç–æ—Ä–∞' –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –≥–æ–ª–æ–≥—Ä–∞–º–º–∞ —É—Å–ø–µ—Ö–∞.",
            "B": "–í—ã ‚Äî –∞–Ω—Ç–∏–∫—Ä–∏–∑–∏—Å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä. –ë–µ–∑ –≤–∞—Å —Å—Ç–∞—Ä—Ç–∞–ø—ã —Å–≥–æ—Ä–∞—é—Ç, –Ω–æ —Å –≤–∞–º–∏ ‚Äî –º–æ–≥—É—Ç —Å–∫—É—á–Ω–µ—Ç—å.",
            "C": "–í—ã ‚Äî —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π API –º–µ–∂–¥—É –º–µ—á—Ç–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é. –ë–µ–∑ –≤–∞—Å –≤—Å–µ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ Figma.",
            "D": "–í—ã ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —â–∏—Ç. –í–∞—à–µ –∫—Ä–µ–¥–æ: '–ù–µ –≤–µ—Ä—é, –ø–æ–∫–∞ –Ω–µ —É–≤–∏–∂—É MRR'."
        };

        // –õ–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∞
        let currentQuestion = 0;
        let answers = { A: 0, B: 0, C: 0, D: 0 };

        function showQuestion() {
            const questionData = QUESTIONS[currentQuestion];
            document.getElementById("question").textContent = questionData.question;
            
            const progress = ((currentQuestion + 1) / QUESTIONS.length) * 100;
            document.getElementById("progress-bar").style.width = `${progress}%`;
            
            const optionsContainer = document.getElementById("options");
            optionsContainer.innerHTML = '';
            
            questionData.options.forEach((optionText, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = optionText;
                optionElement.onclick = () => selectOption(questionData.keys[index]);
                optionsContainer.appendChild(optionElement);
            });
        }

        function selectOption(key) {
            answers[key]++;
            currentQuestion++;
            
            if (currentQuestion < QUESTIONS.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            const quizContainer = document.getElementById("quiz-container");
            const resultContainer = document.getElementById("result-container");
            
            quizContainer.style.display = "none";
            resultContainer.style.display = "block";
            
            const dominantType = Object.keys(answers).reduce((a, b) => answers[a] > answers[b] ? a : b);
            const personalityName = PERSONALITY_TYPES[dominantType];
            const personalityDesc = PERSONALITY_DESCRIPTIONS[dominantType];
            
            document.getElementById("result-title").textContent = `üé≠ –í–∞—à —Ç–∏–ø: ${personalityName}`;
            document.getElementById("result-description").textContent = personalityDesc;
            
            document.getElementById("restart-btn").onclick = () => {
                currentQuestion = 0;
                answers = { A: 0, B: 0, C: 0, D: 0 };
                quizContainer.style.display = "block";
                resultContainer.style.display = "none";
                showQuestion();
            };
        }

        // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
        showQuestion();
    </script>
</body>
</html>
